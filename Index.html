<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZodiVault | Your Cosmic Zodiac Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --pastel-yellow: #fdfd96;
            --pastel-blue: #aec6cf;
            --pastel-pink: #ffb6c1;
            --pastel-green: #b5ead7;
            --glass: rgba(255, 255, 255, 0.2);
            --glass-border: rgba(255, 255, 255, 0.3);
            --sign-color: #ffffff;
            --nav-height: 70px;
            --section-spacing: 3rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            min-height: 100vh;
            padding-top: var(--nav-height);
            overflow-x: hidden;
            position: relative;
            transition: background 0.5s ease;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--nav-height);
            background: rgba(15, 12, 41, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
            font-size: 1.8rem;
            background: linear-gradient(to right, #fdfd96, #aec6cf, #ffb6c1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            animation: gradientShift 8s ease infinite;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: rgba(255,255,255,0.1);
        }

        .nav-links a.active {
            background: rgba(255,255,255,0.2);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 1rem;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 600;
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 1rem;
            background: linear-gradient(to right, #fdfd96, #aec6cf, #ffb6c1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            animation: gradientShift 8s ease infinite;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

        /* Main Content Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 2;
        }

        section {
            margin-bottom: var(--section-spacing);
            scroll-margin-top: calc(var(--nav-height) + 20px);
        }

        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--pastel-pink), transparent);
        }

        /* Birthday Zodiac Finder */
        .birthday-finder {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 600px;
            text-align: center;
        }

        .birthday-finder h2 {
            margin-bottom: 1rem;
        }

        .input-group {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            justify-content: center;
        }

        .input-group input {
            flex: 1;
            max-width: 300px;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
            background: rgba(255,255,255,0.1);
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .input-group button {
            padding: 0 1.5rem;
            border-radius: 8px;
            border: none;
            background: var(--pastel-pink);
            color: #333;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .input-group button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        #zodiacResult {
            margin-top: 1.5rem;
            animation: fadeIn 0.5s ease-out;
        }

        .result-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            max-width: 400px;
            margin: 0 auto;
        }

        .result-icon {
            font-size: 2.5rem;
            margin: 0.5rem 0;
        }

        /* Zodiac Grid */
        .zodiac-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .zodiac-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            aspect-ratio: 1/1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            will-change: transform;
        }

        .zodiac-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .zodiac-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            will-change: transform;
        }

        .zodiac-name {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .zodiac-date {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Element Filters */
        .element-filters {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .element-filters button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            color: white;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .element-filters button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .element-filters button[data-element="fire"]:hover {
            background: rgba(255, 100, 100, 0.2);
            border-color: #FF6B6B;
        }

        .element-filters button[data-element="earth"]:hover {
            background: rgba(181, 234, 215, 0.2);
            border-color: #B5EAD7;
        }

        .element-filters button[data-element="air"]:hover {
            background: rgba(174, 198, 207, 0.2);
            border-color: #AEC6CF;
        }

        .element-filters button[data-element="water"]:hover {
            background: rgba(255, 182, 193, 0.2);
            border-color: #FFB6C1;
        }

        .element-filters button.active {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Zodiac Countdown */
        .countdown-container {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 600px;
            text-align: center;
        }

        #zodiacCountdown {
            font-size: 1.2rem;
        }

        /* Tarot Quiz */
        .tarot-quiz-container {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 2rem;
            margin: 3rem auto;
            max-width: 800px;
        }

        .tarot-quiz-container h2 {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .tarot-cards {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }

        .tarot-card {
            width: 120px;
            height: 200px;
            background: linear-gradient(135deg, rgba(47, 47, 86, 0.9), rgba(29, 29, 63, 0.9));
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tarot-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .tarot-card.selected {
            border: 2px solid var(--pastel-yellow);
            box-shadow: 0 0 20px var(--pastel-yellow);
        }

        .tarot-card .card-name {
            font-weight: 500;
            margin-top: 0.5rem;
            text-align: center;
        }

        #startQuiz {
            display: block;
            margin: 1.5rem auto 0;
            padding: 0.8rem 2rem;
            border-radius: 30px;
            border: none;
            background: var(--pastel-blue);
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #startQuiz:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        #quizResults {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            animation: fadeIn 0.5s ease-out;
        }

        /* Modals */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            padding: 1rem;
        }

        .modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(47, 47, 86, 0.95), rgba(29, 29, 63, 0.95));
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            will-change: transform;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.8rem;
            cursor: pointer;
            background: none;
            border: none;
            color: white;
            transition: transform 0.3s ease;
            padding: 0.5rem;
        }

        .close-modal:hover {
            transform: rotate(90deg);
        }

        .modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-icon {
            font-size: 3rem;
            margin-right: 2rem;
        }

        .modal-title h2 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            display: flex;
            gap: 1.5rem;
            opacity: 0.8;
        }

        .modal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .modal-section {
            margin-bottom: 1.5rem;
        }

        .modal-section h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        .modal-section h3::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50%;
            height: 2px;
            background: linear-gradient(to right, var(--sign-color), transparent);
        }

        .traits-list {
            list-style-type: none;
        }

        .traits-list li {
            margin-bottom: 0.5rem;
            position: relative;
            padding-left: 1.2rem;
        }

        .traits-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--sign-color);
            font-size: 1.2rem;
        }

        .good-trait {
            color: #a1e6a1;
        }

        .bad-trait {
            color: #ff9e9e;
        }

        #viewMythology {
            padding: 0.7rem 1.5rem;
            border-radius: 30px;
            border: none;
            background: var(--pastel-pink);
            color: #333;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        #viewMythology:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .color-palette {
            display: flex;
            gap: 0.8rem;
            margin-top: 0.8rem;
            flex-wrap: wrap;
        }

        .color-box {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .color-box:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--sign-color);
        }

        /* Mythology Modal */
        .myth-animation {
            width: 100%;
            height: 200px;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            background: rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4rem;
        }

        /* Cosmic Background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .cosmic-particle {
            position: absolute;
            border-radius: 50%;
            will-change: transform;
            contain: strict;
        }

        .particle-star {
            background-color: white;
            box-shadow: 0 0 5px 1px white;
            animation: cosmicFloat 20s infinite ease-in-out;
        }

        .particle-dust {
            background-color: rgba(255, 255, 255, 0.4);
            filter: blur(1px);
            animation: cosmicFloat 30s infinite ease-in-out;
        }

        .shooting-star {
            position: absolute;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, rgba(255,255,255,0), white);
            transform-origin: left center;
            animation: shoot 3s linear;
            filter: blur(1px);
            will-change: transform, opacity;
        }

        .constellation-line {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0), 
                rgba(255,255,255,0.7), 
                rgba(255,255,255,0));
            transform-origin: left center;
            z-index: -1;
            animation: linePulse 4s infinite alternate;
            will-change: transform, opacity;
        }

        /* Themes */
        .theme-selector {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .theme-selector button {
            padding: 0.5rem 1.2rem;
            border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .theme-selector button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .theme-selector button.active {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Animations */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes subtitleUnderline {
            0% { transform: scaleX(0); opacity: 0; }
            50% { transform: scaleX(1); opacity: 1; }
            100% { transform: scaleX(0); opacity: 0; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes modalEntrance {
            0% { 
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            100% { 
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes linePulse {
            0% { opacity: 0.2; }
            100% { opacity: 0.6; }
        }

        @keyframes cosmicFloat {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
            100% { transform: translateY(0) rotate(360deg); opacity: 0.7; }
        }

        @keyframes shoot {
            0% { 
                transform: scaleX(0) rotate(45deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: scaleX(25) rotate(45deg);
                opacity: 0;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .modal-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                gap: 0.8rem;
            }
            
            .zodiac-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .tarot-card {
                width: 100px;
                height: 160px;
            }
        }

        @media (max-width: 600px) {
            nav {
                padding: 0 1rem;
            }
            
            .nav-links {
                gap: 0.5rem;
            }
            
            .nav-links a {
                padding: 0.3rem 0.8rem;
                font-size: 0.9rem;
            }
            
            .hero {
                padding: 3rem 1rem;
            }
            
            .zodiac-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
                gap: 1rem;
            }
            
            .modal-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .modal-icon {
                margin-right: 0;
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 400px) {
            .logo {
                font-size: 1.5rem;
            }
            
            .nav-links {
                gap: 0.3rem;
            }
            
            .zodiac-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .tarot-card {
                width: 90px;
                height: 140px;
            }
        }

        /* Reduce motion option */
        @media (prefers-reduced-motion: reduce) {
            *, ::before, ::after {
                animation-delay: -1ms !important;
                animation-duration: 1ms !important;
                animation-iteration-count: 1 !important;
                background-attachment: initial !important;
                scroll-behavior: auto !important;
                transition-duration: 0s !important;
                transition-delay: 0s !important;
            }
            
            .zodiac-card:hover {
                transform: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Cosmic Background -->
    <div class="stars" id="stars"></div>
    
    <!-- Navigation -->
    <nav>
        <div class="logo">ZodiVault</div>
        <div class="nav-links">
            <a href="#discover" class="active">Discover</a>
            <a href="#zodiac-signs">Zodiac Signs</a>
            <a href="#tarot-quiz">Tarot Quiz</a>
            <a href="#mythology">Mythology</a>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero" id="discover">
        <h1>Unlock Your Cosmic Blueprint</h1>
        <p>Explore the zodiac's secrets, discover your celestial personality, and connect with ancient mythology</p>
    </section>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Birthday Zodiac Finder -->
        <section id="birthday-finder">
            <h2 class="section-title">Find Your Sign</h2>
            <div class="birthday-finder">
                <div class="input-group">
                    <input type="date" id="birthdayInput">
                    <button id="findZodiac">Discover</button>
                </div>
                <div id="zodiacResult"></div>
            </div>
        </section>
        
        <!-- Zodiac Countdown -->
        <section id="zodiac-countdown">
            <h2 class="section-title">Zodiac Seasons</h2>
            <div class="countdown-container">
                <div id="zodiacCountdown"></div>
            </div>
        </section>
        
        <!-- Zodiac Signs Grid -->
        <section id="zodiac-signs">
            <h2 class="section-title">Explore the Zodiac</h2>
            
            <!-- Theme Selector -->
            <div class="theme-selector">
                <button data-theme="default" class="active">🌌 Cosmic</button>
                <button data-theme="fire">🔥 Fire</button>
                <button data-theme="earth">🌍 Earth</button>
                <button data-theme="air">🌬️ Air</button>
                <button data-theme="water">🌊 Water</button>
            </div>
            
            <!-- Element Filters -->
            <div class="element-filters">
                <button data-element="all" class="active">All Signs</button>
                <button data-element="fire">🔥 Fire</button>
                <button data-element="earth">🌍 Earth</button>
                <button data-element="air">🌬️ Air</button>
                <button data-element="water">🌊 Water</button>
            </div>
            
            <!-- Zodiac Grid -->
            <div class="zodiac-grid" id="zodiacGrid"></div>
        </section>
        
        <!-- Tarot Quiz -->
        <section id="tarot-quiz">
            <h2 class="section-title">Zodiac Tarot Quiz</h2>
            <div class="tarot-quiz-container">
                <p>Select a card to reveal its zodiac connection and meaning</p>
                <div class="tarot-cards" id="tarotQuiz"></div>
                <button id="startQuiz">Begin Reading</button>
                <div id="quizResults"></div>
            </div>
        </section>
    </div>
    
    <!-- Zodiac Modal -->
    <div class="modal" id="zodiacModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="modal-header">
                <div class="modal-icon" id="modalIcon"></div>
                <div class="modal-title">
                    <h2 id="modalName">Sign</h2>
                    <div class="modal-subtitle">
                        <span id="modalElement">Element</span>
                        <span id="modalPlanet">Planet</span>
                        <span id="modalDates">Dates</span>
                    </div>
                </div>
            </div>
            
            <div class="modal-grid">
                <div class="modal-section">
                    <h3>Key Traits</h3>
                    <ul class="traits-list" id="modalTraits"></ul>
                </div>
                
                <div class="modal-section">
                    <h3>Mythology</h3>
                    <button id="viewMythology">Read the Story</button>
                </div>
                
                <div class="modal-section">
                    <h3>Color Palette</h3>
                    <div class="color-palette" id="colorPalette"></div>
                </div>
                
                <div class="modal-section">
                    <h3>Famous Quote</h3>
                    <p id="modalQuote">Quote</p>
                </div>
                
                <div class="modal-section">
                    <h3>Famous Personalities</h3>
                    <p id="modalFamous">Names</p>
                </div>
                
                <div class="modal-section">
                    <h3>Compatibility</h3>
                    <p id="modalCompatibility">Signs</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Mythology Modal -->
    <div class="modal" id="mythologyModal">
        <div class="modal-content">
            <button class="close-modal" id="closeMythModal">&times;</button>
            <div class="modal-header">
                <div class="modal-icon" id="mythIcon"></div>
                <div class="modal-title">
                    <h2 id="mythTitle">Mythology</h2>
                    <div class="modal-subtitle" id="mythSubtitle"></div>
                </div>
            </div>
            
            <div class="modal-section">
                <div id="mythContent"></div>
                <div class="myth-animation" id="mythAnimation"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Zodiac data with expanded mythology
            const zodiacData = [
                {
                    name: "Aries",
                    icon: "♈︎",
                    element: "Fire",
                    planet: "Mars",
                    dates: "Mar 21 - Apr 19",
                    color: "#FF6B6B",
                    colors: ["#FF6B6B", "#FFE66D", "#FF9E9E", "#FFD166"],
                    traits: {
                        good: ["Courageous", "Determined", "Confident"],
                        bad: ["Impatient", "Moody", "Impulsive"]
                    },
                    quote: "\"I am the fiery spark of initiative.\"",
                    famous: "Lady Gaga, Mariah Carey, Robert Downey Jr.",
                    compatibility: "Best with Leo and Sagittarius",
                    motto: "\"I am\"",
                    mythology: {
                        title: "The Golden Ram",
                        story: "In Greek mythology, Aries represents the golden ram that rescued Phrixus and Helle. The ram's fleece became the famous Golden Fleece sought by Jason and the Argonauts. The constellation commemorates this heroic creature that was eventually sacrificed to the gods.",
                        animation: "ram"
                    }
                },
                {
                    name: "Taurus",
                    icon: "♉︎",
                    element: "Earth",
                    planet: "Venus",
                    dates: "Apr 20 - May 20",
                    color: "#B5EAD7",
                    colors: ["#B5EAD7", "#E2F0CB", "#C7CEEA", "#FFDAC1"],
                    traits: {
                        good: ["Reliable", "Patient", "Practical"],
                        bad: ["Stubborn", "Possessive", "Resistant to change"]
                    },
                    quote: "\"I have, and I hold.\"",
                    famous: "Adele, Dwayne Johnson, Cher",
                    compatibility: "Best with Virgo and Capricorn",
                    motto: "\"I have\"",
                    mythology: {
                        title: "The Cretan Bull",
                        story: "Taurus represents the white bull that carried Europa across the sea to Crete. In another myth, it's the Cretan Bull that Hercules captured as one of his labors. The bull symbolizes both gentle strength and untamed power in various ancient myths.",
                        animation: "bull"
                    }
                },
                {
                    name: "Gemini",
                    icon: "♊︎",
                    element: "Air",
                    planet: "Mercury",
                    dates: "May 21 - Jun 20",
                    color: "#AEC6CF",
                    colors: ["#AEC6CF", "#CFCFC4", "#F7B7D1", "#9AD1F1"],
                    traits: {
                        good: ["Adaptable", "Outgoing", "Intelligent"],
                        bad: ["Nervous", "Inconsistent", "Indecisive"]
                    },
                    quote: "\"I think, therefore I am... many things.\"",
                    famous: "Angelina Jolie, Kanye West, Marilyn Monroe",
                    compatibility: "Best with Libra and Aquarius",
                    motto: "\"I think\"",
                    mythology: {
                        title: "The Twin Brothers",
                        story: "Gemini represents the twins Castor and Pollux from Greek mythology. Though Castor was mortal and Pollux immortal, their bond was so strong that when Castor died, Pollux shared his immortality with him, resulting in them alternating between Olympus and the underworld.",
                        animation: "twins"
                    }
                },
                {
                    name: "Cancer",
                    icon: "♋︎",
                    element: "Water",
                    planet: "Moon",
                    dates: "Jun 21 - Jul 22",
                    color: "#FFB6C1",
                    colors: ["#FFB6C1", "#FFDFD3", "#F9C5D1", "#D8B5FF"],
                    traits: {
                        good: ["Loyal", "Emotional", "Persuasive"],
                        bad: ["Moody", "Pessimistic", "Suspicious"]
                    },
                    quote: "\"I feel deeply, therefore I am.\"",
                    famous: "Tom Hanks, Selena Gomez, Princess Diana",
                    compatibility: "Best with Scorpio and Pisces",
                    motto: "\"I feel\"",
                    mythology: {
                        title: "The Crab of Hercules",
                        story: "Cancer represents the giant crab that attacked Hercules during his battle with the Hydra. Though the crab was crushed under Hercules' foot, the goddess Hera placed it in the stars for its bravery. In another version, it's the crab that carried Dionysus across a river.",
                        animation: "crab"
                    }
                },
                {
                    name: "Leo",
                    icon: "♌︎",
                    element: "Fire",
                    planet: "Sun",
                    dates: "Jul 23 - Aug 22",
                    color: "#FFD166",
                    colors: ["#FFD166", "#FF9E9E", "#FFEE93", "#FFB347"],
                    traits: {
                        good: ["Creative", "Passionate", "Generous"],
                        bad: ["Arrogant", "Stubborn", "Lazy"]
                    },
                    quote: "\"I shine, therefore I am.\"",
                    famous: "Barack Obama, Jennifer Lopez, Madonna",
                    compatibility: "Best with Aries and Sagittarius",
                    motto: "\"I will\"",
                    mythology: {
                        title: "The Nemean Lion",
                        story: "Leo represents the Nemean Lion, a monstrous beast with impenetrable hide that Hercules killed as his first labor. The lion was so fearsome that after its death, Zeus placed it in the stars. Some myths associate it with the lion that terrorized the hills of Nemea.",
                        animation: "lion"
                    }
                },
                {
                    name: "Virgo",
                    icon: "♍︎",
                    element: "Earth",
                    planet: "Mercury",
                    dates: "Aug 23 - Sep 22",
                    color: "#C7CEEA",
                    colors: ["#C7CEEA", "#E0F9B5", "#A5D8FF", "#B5EAD7"],
                    traits: {
                        good: ["Loyal", "Analytical", "Kind"],
                        bad: ["Worrying", "Critical", "Shy"]
                    },
                    quote: "\"I analyze, therefore I am.\"",
                    famous: "Beyoncé, Keanu Reeves, Zendaya",
                    compatibility: "Best with Taurus and Capricorn",
                    motto: "\"I analyze\"",
                    mythology: {
                        title: "The Maiden Goddess",
                        story: "Virgo is associated with several maiden goddesses including Astraea (the star maiden), Demeter (goddess of harvest), and Persephone. Most commonly it represents Astraea, the last immortal to leave Earth at the end of the Silver Age, holding the scales of justice.",
                        animation: "maiden"
                    }
                },
                {
                    name: "Libra",
                    icon: "♎︎",
                    element: "Air",
                    planet: "Venus",
                    dates: "Sep 23 - Oct 22",
                    color: "#F7B7D1",
                    colors: ["#F7B7D1", "#D8B5FF", "#FFD3B6", "#FFAAA5"],
                    traits: {
                        good: ["Cooperative", "Diplomatic", "Gracious"],
                        bad: ["Indecisive", "Self-pitying", "Avoids confrontations"]
                    },
                    quote: "\"I balance, therefore I am.\"",
                    famous: "Kim Kardashian, Will Smith, Serena Williams",
                    compatibility: "Best with Gemini and Aquarius",
                    motto: "\"I balance\"",
                    mythology: {
                        title: "The Scales of Justice",
                        story: "Libra represents the scales held by Astraea (Virgo), symbolizing justice and balance. In ancient times it was considered the claws of Scorpio before being recognized as its own constellation. The scales are associated with Themis, the Greek goddess of divine law and order.",
                        animation: "scales"
                    }
                },
                {
                    name: "Scorpio",
                    icon: "♏︎",
                    element: "Water",
                    planet: "Pluto",
                    dates: "Oct 23 - Nov 21",
                    color: "#D8B5FF",
                    colors: ["#D8B5FF", "#9AD1F1", "#FF9AA2", "#FFB7B2"],
                    traits: {
                        good: ["Resourceful", "Brave", "Passionate"],
                        bad: ["Distrusting", "Jealous", "Secretive"]
                    },
                    quote: "\"I desire, therefore I am.\"",
                    famous: "Drake, Katy Perry, Ryan Reynolds",
                    compatibility: "Best with Cancer and Pisces",
                    motto: "\"I desire\"",
                    mythology: {
                        title: "The Scorpion's Sting",
                        story: "Scorpio represents the scorpion that killed Orion the hunter. In one version, Gaia sent the scorpion to kill Orion after he boasted he would hunt all animals. In another, Artemis sent it as punishment for Orion's attempted assault. Both were placed in the sky as constellations.",
                        animation: "scorpion"
                    }
                },
                {
                    name: "Sagittarius",
                    icon: "♐︎",
                    element: "Fire",
                    planet: "Jupiter",
                    dates: "Nov 22 - Dec 21",
                    color: "#FF9AA2",
                    colors: ["#FF9AA2", "#FFB7B2", "#FFDAC1", "#E2F0CB"],
                    traits: {
                        good: ["Generous", "Idealistic", "Great sense of humor"],
                        bad: ["Impatient", "Promise more than can deliver", "Blunt"]
                    },
                    quote: "\"I seek, therefore I am.\"",
                    famous: "Taylor Swift, Brad Pitt, Miley Cyrus",
                    compatibility: "Best with Aries and Leo",
                    motto: "\"I see\"",
                    mythology: {
                        title: "The Centaur Archer",
                        story: "Sagittarius represents Chiron, the wise centaur who mentored many Greek heroes including Hercules and Achilles. Unlike other centaurs, Chiron was immortal, civilized, and skilled in medicine. When accidentally wounded by Hercules, he gave up his immortality to free Prometheus.",
                        animation: "centaur"
                    }
                },
                {
                    name: "Capricorn",
                    icon: "♑︎",
                    element: "Earth",
                    planet: "Saturn",
                    dates: "Dec 22 - Jan 19",
                    color: "#9AD1F1",
                    colors: ["#9AD1F1", "#A5D8FF", "#B5EAD7", "#C7CEEA"],
                    traits: {
                        good: ["Responsible", "Disciplined", "Self-controlled"],
                        bad: ["Know-it-all", "Unforgiving", "Condescending"]
                    },
                    quote: "\"I use, therefore I am.\"",
                    famous: "Michelle Obama, LeBron James, Dolly Parton",
                    compatibility: "Best with Taurus and Virgo",
                    motto: "\"I use\"",
                    mythology: {
                        title: "The Sea-Goat",
                        story: "Capricorn represents Amalthea, the goat who nursed the infant Zeus. In gratitude, Zeus placed her among the stars. Another myth tells of Pan who transformed into a goat-fish to escape the monster Typhon, creating the sea-goat hybrid that became this constellation.",
                        animation: "goat"
                    }
                },
                {
                    name: "Aquarius",
                    icon: "♒︎",
                    element: "Air",
                    planet: "Uranus",
                    dates: "Jan 20 - Feb 18",
                    color: "#A5D8FF",
                    colors: ["#A5D8FF", "#C7CEEA", "#F7B7D1", "#D8B5FF"],
                    traits: {
                        good: ["Progressive", "Original", "Humanitarian"],
                        bad: ["Runs from emotional expression", "Stubborn", "Unemotional"]
                    },
                    quote: "\"I know, therefore I am.\"",
                    famous: "Oprah Winfrey, Harry Styles, Cristiano Ronaldo",
                    compatibility: "Best with Gemini and Libra",
                    motto: "\"I know\"",
                    mythology: {
                        title: "The Water Bearer",
                        story: "Aquarius represents Ganymede, the beautiful Trojan prince abducted by Zeus to serve as cup-bearer to the gods. In another version, it's Deucalion who survived the great flood by building an ark. The water he pours symbolizes both the flood and the nectar of the gods.",
                        animation: "water"
                    }
                },
                {
                    name: "Pisces",
                    icon: "♓︎",
                    element: "Water",
                    planet: "Neptune",
                    dates: "Feb 19 - Mar 20",
                    color: "#B5EAD7",
                    colors: ["#B5EAD7", "#FFDAC1", "#E2F0CB", "#FFB7B2"],
                    traits: {
                        good: ["Compassionate", "Artistic", "Intuitive"],
                        bad: ["Escapist", "Overly trusting", "Victim mentality"]
                    },
                    quote: "\"I believe, therefore I am.\"",
                    famous: "Rihanna, Albert Einstein, Justin Bieber",
                    compatibility: "Best with Cancer and Scorpio",
                    motto: "\"I believe\"",
                    mythology: {
                        title: "The Fish of Aphrodite",
                        story: "Pisces represents the two fish that carried Aphrodite and Eros to safety when they fled the monster Typhon. The fish were tied together with a cord to avoid separation. In another version, the fish represent the divine forms taken by Isis and Osiris to escape Set.",
                        animation: "fish"
                    }
                }
            ];

            // Zodiac season dates for countdown
            const zodiacSeasons = [
                { sign: "Aries", start: new Date(new Date().getFullYear(), 2, 21) },
                { sign: "Taurus", start: new Date(new Date().getFullYear(), 3, 20) },
                { sign: "Gemini", start: new Date(new Date().getFullYear(), 4, 21) },
                { sign: "Cancer", start: new Date(new Date().getFullYear(), 5, 21) },
                { sign: "Leo", start: new Date(new Date().getFullYear(), 6, 23) },
                { sign: "Virgo", start: new Date(new Date().getFullYear(), 7, 23) },
                { sign: "Libra", start: new Date(new Date().getFullYear(), 8, 23) },
                { sign: "Scorpio", start: new Date(new Date().getFullYear(), 9, 23) },
                { sign: "Sagittarius", start: new Date(new Date().getFullYear(), 10, 22) },
                { sign: "Capricorn", start: new Date(new Date().getFullYear(), 11, 22) },
                { sign: "Aquarius", start: new Date(new Date().getFullYear(), 0, 20) },
                { sign: "Pisces", start: new Date(new Date().getFullYear(), 1, 19) }
            ];

            // Tarot cards for the quiz
            const tarotCards = [
                { name: "The Fool", zodiac: "Aquarius", meaning: "New beginnings, spontaneity" },
                { name: "The Magician", zodiac: "Aries", meaning: "Manifestation, power" },
                { name: "The High Priestess", zodiac: "Pisces", meaning: "Intuition, mystery" },
                { name: "The Empress", zodiac: "Taurus", meaning: "Fertility, abundance" },
                { name: "The Emperor", zodiac: "Capricorn", meaning: "Authority, structure" },
                { name: "The Hierophant", zodiac: "Taurus", meaning: "Tradition, belief" },
                { name: "The Lovers", zodiac: "Gemini", meaning: "Relationships, choices" },
                { name: "The Chariot", zodiac: "Cancer", meaning: "Willpower, victory" },
                { name: "Strength", zodiac: "Leo", meaning: "Courage, inner strength" },
                { name: "The Hermit", zodiac: "Virgo", meaning: "Introspection, wisdom" },
                { name: "Wheel of Fortune", zodiac: "Sagittarius", meaning: "Destiny, luck" },
                { name: "Justice", zodiac: "Libra", meaning: "Fairness, truth" },
                { name: "The Hanged Man", zodiac: "Pisces", meaning: "Surrender, new perspective" },
                { name: "Death", zodiac: "Scorpio", meaning: "Transformation, endings" },
                { name: "Temperance", zodiac: "Sagittarius", meaning: "Balance, moderation" },
                { name: "The Devil", zodiac: "Capricorn", meaning: "Materialism, addiction" },
                { name: "The Tower", zodiac: "Mars", meaning: "Upheaval, revelation" },
                { name: "The Star", zodiac: "Aquarius", meaning: "Hope, inspiration" },
                { name: "The Moon", zodiac: "Cancer", meaning: "Illusion, subconscious" },
                { name: "The Sun", zodiac: "Leo", meaning: "Joy, success" },
                { name: "Judgement", zodiac: "Scorpio", meaning: "Awakening, rebirth" },
                { name: "The World", zodiac: "Saturn", meaning: "Completion, wholeness" }
            ];

            // DOM elements
            const zodiacGrid = document.getElementById('zodiacGrid');
            const zodiacModal = document.getElementById('zodiacModal');
            const closeModal = document.getElementById('closeModal');
            const modalName = document.getElementById('modalName');
            const modalIcon = document.getElementById('modalIcon');
            const modalElement = document.getElementById('modalElement');
            const modalPlanet = document.getElementById('modalPlanet');
            const modalDates = document.getElementById('modalDates');
            const modalTraits = document.getElementById('modalTraits');
            const colorPalette = document.getElementById('colorPalette');
            const modalQuote = document.getElementById('modalQuote');
            const modalFamous = document.getElementById('modalFamous');
            const modalCompatibility = document.getElementById('modalCompatibility');
            const viewMythology = document.getElementById('viewMythology');
            const mythologyModal = document.getElementById('mythologyModal');
            const closeMythModal = document.getElementById('closeMythModal');
            const mythTitle = document.getElementById('mythTitle');
            const mythSubtitle = document.getElementById('mythSubtitle');
            const mythContent = document.getElementById('mythContent');
            const mythAnimation = document.getElementById('mythAnimation');
            const starsContainer = document.getElementById('stars');
            const zodiacCountdown = document.getElementById('zodiacCountdown');
            const tarotQuiz = document.getElementById('tarotQuiz');
            const startQuiz = document.getElementById('startQuiz');
            const quizResults = document.getElementById('quizResults');
            const birthdayInput = document.getElementById('birthdayInput');
            const findZodiac = document.getElementById('findZodiac');
            const zodiacResult = document.getElementById('zodiacResult');
            const themeButtons = document.querySelectorAll('.theme-selector button');
            const navLinks = document.querySelectorAll('.nav-links a');

            // Current zodiac sign based on date
            function getCurrentZodiac() {
                const today = new Date();
                const currentMonth = today.getMonth();
                const currentDay = today.getDate();
                
                for (let i = 0; i < zodiacSeasons.length; i++) {
                    const season = zodiacSeasons[i];
                    const nextSeason = zodiacSeasons[(i + 1) % zodiacSeasons.length];
                    
                    const seasonDate = new Date(season.start);
                    const nextSeasonDate = new Date(nextSeason.start);
                    
                    // Handle year transition for Capricorn (Dec-Jan)
                    if (i === zodiacSeasons.length - 1) {
                        nextSeasonDate.setFullYear(seasonDate.getFullYear() + 1);
                    }
                    
                    if (today >= seasonDate && today < nextSeasonDate) {
                        return { 
                            current: season.sign, 
                            next: nextSeason.sign, 
                            nextDate: nextSeasonDate 
                        };
                    }
                }
                
                // Default return (shouldn't happen with complete data)
                return { 
                    current: zodiacSeasons[0].sign, 
                    next: zodiacSeasons[1].sign, 
                    nextDate: zodiacSeasons[1].start 
                };
            }

            // Update zodiac season countdown
            function updateZodiacCountdown() {
                const { current, next, nextDate } = getCurrentZodiac();
                const today = new Date();
                const diffTime = nextDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                zodiacCountdown.innerHTML = `
                    <p>We're currently in <strong>${current}</strong> season</p>
                    <p><strong>${next}</strong> season begins in ${diffDays} days</p>
                `;
            }

            // Initialize zodiac season countdown
            updateZodiacCountdown();
            setInterval(updateZodiacCountdown, 86400000); // Update daily

            // Create zodiac cards
            function createZodiacCards() {
                zodiacData.forEach((sign) => {
                    const card = document.createElement('div');
                    card.className = 'zodiac-card';
                    card.style.setProperty('--sign-color', sign.color);
                    card.dataset.sign = sign.name.toLowerCase();
                    card.dataset.element = sign.element.toLowerCase();
                    card.innerHTML = `
                        <div class="zodiac-icon">${sign.icon}</div>
                        <h3 class="zodiac-name">${sign.name}</h3>
                        <p class="zodiac-date">${sign.dates}</p>
                    `;
                    
                    card.addEventListener('click', () => openZodiacModal(sign));
                    zodiacGrid.appendChild(card);
                });
            }

            // Open zodiac modal
            function openZodiacModal(sign) {
                document.documentElement.style.setProperty('--sign-color', sign.color);
                
                // Set main content
                modalName.textContent = sign.name;
                modalIcon.textContent = sign.icon;
                modalElement.textContent = sign.element;
                modalPlanet.textContent = sign.planet;
                modalDates.textContent = sign.dates;
                modalQuote.textContent = sign.quote;
                modalFamous.textContent = sign.famous;
                modalCompatibility.textContent = sign.compatibility;
                
                // Set traits
                modalTraits.innerHTML = '';
                sign.traits.good.forEach(trait => {
                    const li = document.createElement('li');
                    li.className = 'good-trait';
                    li.textContent = trait;
                    modalTraits.appendChild(li);
                });
                
                sign.traits.bad.forEach(trait => {
                    const li = document.createElement('li');
                    li.className = 'bad-trait';
                    li.textContent = trait;
                    modalTraits.appendChild(li);
                });
                
                // Set color palette
                colorPalette.innerHTML = '';
                sign.colors.forEach((color) => {
                    const box = document.createElement('div');
                    box.className = 'color-box';
                    box.style.backgroundColor = color;
                    colorPalette.appendChild(box);
                });
                
                // Set mythology button
                viewMythology.onclick = () => {
                    zodiacModal.classList.remove('active');
                    openMythologyModal(sign);
                };
                
                // Animate modal opening
                zodiacModal.classList.add('active');
            }

            // Open mythology modal
            function openMythologyModal(sign) {
                mythTitle.textContent = sign.mythology.title;
                mythSubtitle.innerHTML = `<span>The Myth Behind ${sign.name}</span>`;
                mythContent.textContent = sign.mythology.story;
                mythAnimation.innerHTML = getMythologyAnimation(sign.name);
                
                mythologyModal.classList.add('active');
            }

            // Get mythology animation HTML
            function getMythologyAnimation(signName) {
                const sign = signName.toLowerCase();
                if (sign.includes('aries')) return '🐏';
                if (sign.includes('taurus')) return '🐂';
                if (sign.includes('gemini')) return '👬';
                if (sign.includes('cancer')) return '🦀';
                if (sign.includes('leo')) return '🦁';
                if (sign.includes('virgo')) return '👩';
                if (sign.includes('libra')) return '⚖️';
                if (sign.includes('scorpio')) return '🦂';
                if (sign.includes('sagittarius')) return '🏹';
                if (sign.includes('capricorn')) return '🐐';
                if (sign.includes('aquarius')) return '🚰';
                if (sign.includes('pisces')) return '🐟';
                return '✨';
            }

            // Close modals
            function closeModalHandler() {
                zodiacModal.classList.remove('active');
            }

            function closeMythologyHandler() {
                mythologyModal.classList.remove('active');
            }

            // Create cosmic background
            function createCosmicBackground() {
                // Create 60 particles
                for (let i = 0; i < 60; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'cosmic-particle';
                    
                    // Randomly assign star or dust class
                    if (Math.random() > 0.3) {
                        particle.classList.add('particle-star');
                    } else {
                        particle.classList.add('particle-dust');
                    }
                    
                    // Random size
                    const size = Math.random() * 3 + 1;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    // Random position
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.top = `${Math.random() * 100}%`;
                    
                    // Random animation duration
                    const duration = Math.random() * 20 + 10;
                    particle.style.animationDuration = `${duration}s`;
                    
                    // Random delay
                    particle.style.animationDelay = `${Math.random() * 20}s`;
                    
                    starsContainer.appendChild(particle);
                }
                
                // Create occasional shooting stars
                setInterval(createShootingStar, 5000);
            }

            function createShootingStar() {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'shooting-star';
                shootingStar.style.left = `${Math.random() * 100}%`;
                shootingStar.style.top = `${Math.random() * 30}%`;
                
                // Random direction
                const angle = Math.random() * 30 + 45;
                shootingStar.style.transform = `rotate(${angle}deg)`;
                
                starsContainer.appendChild(shootingStar);
                
                setTimeout(() => {
                    shootingStar.remove();
                }, 3000);
            }

            // Setup tarot quiz
            function setupTarotQuiz() {
                let selectedCard = null;
                let quizStarted = false;
                
                startQuiz.addEventListener('click', () => {
                    if (quizStarted) {
                        // Reset quiz
                        selectedCard = null;
                        quizStarted = false;
                        startQuiz.textContent = 'Begin Reading';
                        tarotQuiz.innerHTML = '';
                        quizResults.innerHTML = '';
                        return;
                    }
                    
                    quizStarted = true;
                    startQuiz.textContent = 'Reset Quiz';
                    tarotQuiz.innerHTML = '';
                    
                    // Select 3 random tarot cards
                    const shuffled = [...tarotCards].sort(() => 0.5 - Math.random());
                    const selectedCards = shuffled.slice(0, 3);
                    
                    selectedCards.forEach((card) => {
                        const cardElement = document.createElement('div');
                        cardElement.className = 'tarot-card';
                        cardElement.dataset.card = card.name;
                        cardElement.dataset.zodiac = card.zodiac;
                        cardElement.innerHTML = `
                            <div class="card-name">${card.name}</div>
                        `;
                        
                        cardElement.addEventListener('click', () => {
                            document.querySelectorAll('.tarot-card').forEach(c => c.classList.remove('selected'));
                            cardElement.classList.add('selected');
                            selectedCard = card;
                        });
                        
                        tarotQuiz.appendChild(cardElement);
                    });
                });
                
                // Add event listener for getting results
                startQuiz.addEventListener('click', (e) => {
                    if (quizStarted && selectedCard) {
                        const zodiac = zodiacData.find(z => z.name === selectedCard.zodiac);
                        if (zodiac) {
                            quizResults.innerHTML = `
                                <h3>Your Card: ${selectedCard.name}</h3>
                                <p><strong>Meaning:</strong> ${selectedCard.meaning}</p>
                                <p><strong>Associated Zodiac:</strong> ${zodiac.name} ${zodiac.icon}</p>
                                <p>${zodiac.mythology.story.split('.')[0]}.</p>
                                <button id="viewZodiac" style="background: ${zodiac.color}">Learn About ${zodiac.name}</button>
                            `;
                            
                            document.getElementById('viewZodiac').addEventListener('click', () => {
                                openZodiacModal(zodiac);
                            });
                        }
                    }
                }, { once: true });
            }

            // Find zodiac by birthday
            function setupBirthdayFinder() {
                findZodiac.addEventListener('click', () => {
                    const birthday = new Date(birthdayInput.value);
                    if (!birthday.getTime()) {
                        zodiacResult.innerHTML = '<p class="error">Please enter a valid date</p>';
                        return;
                    }
                    
                    const month = birthday.getMonth() + 1;
                    const day = birthday.getDate();
                    
                    // Find matching zodiac
                    const sign = zodiacData.find(z => {
                        const dateParts = z.dates.split(' - ');
                        const startParts = dateParts[0].split(' ');
                        const endParts = dateParts[1].split(' ');
                        
                        const startMonth = isNaN(startParts[0]) ? 
                            new Date(`${startParts[0]} 1, 2000`).getMonth() + 1 : 
                            parseInt(startParts[0]);
                        const startDay = parseInt(startParts[1]);
                        
                        const endMonth = isNaN(endParts[0]) ? 
                            new Date(`${endParts[0]} 1, 2000`).getMonth() + 1 : 
                            parseInt(endParts[0]);
                        const endDay = parseInt(endParts[1]);
                        
                        // Handle date ranges that cross year boundaries (Capricorn)
                        if (startMonth > endMonth) {
                            return (month === startMonth && day >= startDay) || 
                                   (month === endMonth && day <= endDay) ||
                                   (month > startMonth || month < endMonth);
                        } else {
                            return (month === startMonth && day >= startDay) || 
                                   (month === endMonth && day <= endDay) ||
                                   (month > startMonth && month < endMonth);
                        }
                    });
                    
                    if (sign) {
                        zodiacResult.innerHTML = `
                            <div class="result-card" style="--sign-color: ${sign.color}">
                                <h4>Your Zodiac Sign:</h4>
                                <div class="result-icon">${sign.icon}</div>
                                <h3>${sign.name}</h3>
                                <p>${sign.dates}</p>
                                <p>Element: ${sign.element}</p>
                                <button class="view-details" style="background: ${sign.color}">View Details</button>
                            </div>
                        `;
                        
                        // Add event listener to the button
                        document.querySelector('.view-details').addEventListener('click', () => {
                            openZodiacModal(sign);
                        });
                        
                        // Auto-scroll to their zodiac card
                        const cardElement = document.querySelector(`.zodiac-card[data-sign="${sign.name.toLowerCase()}"]`);
                        if (cardElement) {
                            cardElement.scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });
                            
                            // Pulse animation
                            cardElement.style.animation = 'pulse 1s 2';
                            setTimeout(() => {
                                cardElement.style.animation = '';
                            }, 2000);
                        }
                    } else {
                        zodiacResult.innerHTML = '<p class="error">Could not determine zodiac sign</p>';
                    }
                });
            }

            // Set up theme selector
            function setupThemeSelector() {
                themeButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const theme = button.dataset.theme;
                        document.body.className = `${theme}-theme`;
                        
                        // Update active button
                        themeButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                    });
                });
            }

            // Set up element filters
            function setupElementFilters() {
                const filterButtons = document.querySelectorAll('.element-filters button');
                
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        // Update active state
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        
                        // Filter cards
                        const element = button.dataset.element;
                        const cards = document.querySelectorAll('.zodiac-card');
                        
                        cards.forEach(card => {
                            if (element === 'all' || card.dataset.element === element) {
                                card.style.opacity = '1';
                                card.style.transform = 'scale(1)';
                            } else {
                                card.style.opacity = '0.3';
                                card.style.transform = 'scale(0.9)';
                            }
                        });
                    });
                });
            }

            // Smooth scrolling for navigation
            function setupSmoothScrolling() {
                navLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                            
                            // Update active nav link
                            navLinks.forEach(l => l.classList.remove('active'));
                            link.classList.add('active');
                        }
                    });
                });
            }

            // Initialize everything
            function init() {
                createZodiacCards();
                createCosmicBackground();
                setupTarotQuiz();
                setupBirthdayFinder();
                setupThemeSelector();
                setupElementFilters();
                setupSmoothScrolling();
                
                // Set default theme button as active
                document.querySelector('.theme-selector button[data-theme="default"]').classList.add('active');
                
                // Event listeners
                closeModal.addEventListener('click', closeModalHandler);
                closeMythModal.addEventListener('click', closeMythologyHandler);
                zodiacModal.addEventListener('click', (e) => {
                    if (e.target === zodiacModal) closeModalHandler();
                });
                mythologyModal.addEventListener('click', (e) => {
                    if (e.target === mythologyModal) closeMythologyHandler();
                });
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        if (zodiacModal.classList.contains('active')) closeModalHandler();
                        if (mythologyModal.classList.contains('active')) closeMythologyHandler();
                    }
                });
                
                // Set current date as default in birthday input
                const today = new Date();
                const formattedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                birthdayInput.value = formattedDate;
            }

            // Start the app
            init();
        });
    </script>
</body>
</html>
